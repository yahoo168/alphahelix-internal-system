{% macro render_stock_document_table(doc_meta_list, show_tag=True,
show_source=True) %}
<div class="card-body">
  <table class="table table-hover">
    <thead>
      <tr>
        <th scope="col">#</th>
        <th scope="col">Title</th>
        <th scope="col">Date</th>
        {% if show_tag %}
        <th scope="col">Tag</th>
        {% endif %} {% if show_source %}
        <th scope="col">Source</th>
        {% endif %}
      </tr>
    </thead>
    <tbody>
      {% for item_meta in doc_meta_list %}
      <tr>
        <th scope="row">{{ loop.index }}</th>
        <!-- 文件標題（若已讀則加上樣式） -->
        <td
          scope="row"
          style="
            max-width: 500px;
            white-space: nowrap;
            text-align: left;
            overflow: hidden;
            text-overflow: ellipsis;
            color: #333;
            font-weight: bold;
          "
        >
          <a
            href="{{item_meta['read_url']}}"
            target="_blank"
            class="{% if item_meta['is_viewed'] %} read-title {% endif %}"
            >{{ item_meta['title'] }}</a
          >
        </td>

        <td style="white-space: nowrap">{{ item_meta['data_date_str'] }}</td>

        <!-- 若需要顯示tag則顯示ticker列表 -->
        {% if show_tag %}
        <td>
          {% for ticker in item_meta['tickers'] %}
          <span class="tag true-tag">{{ ticker }}</span>
          {% endfor %}
        </td>
        {% endif %}

        <!-- 券商來源 -->
        {% if show_source %}
        <td style="text-align: center; white-space: nowrap">
          {{ item_meta['beautified_source'] }}
        </td>
        {% endif %}
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
{% endmacro %}
